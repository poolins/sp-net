# Шифрование черно-белого изображения с помощью SP-сети 

### Описание
Реализован алгоритм шифрования черно-белых изображений с использованием SP-сети. В процессе нескольких раундов шифрования исходное изображение преобразуется в шумоподобное. Количество раундов подбирается индивидуально в зависимости от размера изображения и распределения яркости пикселей. 

Для оценки качества шифрования применяются статистические тесты, позволяющие оценить степень шумоподобности зашифрованного изображения.
### Структура SP-сети
Алгоритм шифрования использует многораундовую модель SP-сети, где каждый раунд состоит из двух этапов:
1. Подстановка (четыре S-блока)
   - Каждый 8-битный пиксель заменяется значением из заранее заданного S-блока.
   - Для обеспечения максимального рассеивания значений при применении S-блока используется метрика Хэмминга. Она гарантирует, что различие между входным и выходным значением составляет не менее 4 бит:
`hamming_distance = bin(x ^ y).count('1')`
2. Перестановка (один P-блок)
   - Биты подставленных значений перемешиваются с помощью P-блока.
   - Это увеличивает диффузию, усложняя анализ взаимосвязи входных и выходных данных.

Размер S-блока выбран в соответствии с размером одного пикселя изображения. Так как диапазон значений яркости в черно-белом изображении 0..255, для хранения значения яркости одного пикселя необходимо выделить 8 бит. Такой подход позволяет обрабатывать изображения любого размера.

Схема SP-сети для одного раунда шифрования:
<p align="center">
  
<picture>
   <img src="https://github.com/poolins/sp-net/blob/main/sp-scheme.png" width="260">
</picture>

</p>

### Статистический анализ
Для оценки качества шифрования проводится три статистических теста:
 1. Гистограмма яркости пикселей
    
    Отражает равномерность распределения яркости пикселей.
 3. Тест на решетчатость
    
    Позволяет оценить наличие/отсутствие устойчивых связей между парами соседних элементов последовательности, недостаточен для оценки всей исследуемой последовательности.

 4. Тест на корреляцию

    Позволяет оценить уровень статистической связь между всеми элементами исследуемой последовательности.
